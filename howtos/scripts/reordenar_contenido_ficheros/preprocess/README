
# ==============================================================================
# DIRECTORY CONTENT
# ==============================================================================

test/
	test examples to prevent of regressions during the development.
	contains scripts to execute and check differences.


order_sources.sh

	script to get the proper order of the files to concat

preprocess_swis_xsd_sources.sh

	script to join the source XSD files into a unique source XSD file


remove_tags.sh
save_tags.sh

	auxiliar scripts used by preprocess_swis_xsd_sources.sh


#===============================================================================
# Actual XSD source paths
#===============================================================================

- FIXM

FF: /home/swim/development/SWIS_root/common/translators/FlightPlanTranslator/schemas/fp_correlation/fixm/core/foundation/

FB: /home/swim/development/SWIS_root/common/translators/FlightPlanTranslator/schemas/fp_correlation/fixm/core/base

FX: /home/swim/development/SWIS_root/common/translators/FlightPlanTranslator/schemas/fp_correlation/fixm/core/flight


- TSMS:

  /home/swim/development/SWIS_root/common/translators/TSMSTranslator/schemas


#===============================================================================
# Usage 
#===============================================================================

# From the preprocess main directory:
#
# "$SWIS_HOME/tools/xsd_parser/preprocess/"


# step-1: order the XSD files

# 1) execute the scrip:

# >> bash order_sources.sh INPUT_DIRECTORY

# \info default output file containing the list or ordered files:
#       ./output/xsd_ordered_list.csv


# 2) if any mutual dependencies found, edit the output file to order
#    the affected files.


# step-2: concat the ordered files into a unique XSD file

# 3) execute the script:

# >> bash preprocess_swis_xsd_sources.sh  \
#      INPUT-DIRECTORY  TARGET-NAMESPACE  REFERENCE-XSD-FILE
#
#
# \info INPUT-DIRECTORY: source directory of the XSD hierarchy.
#
# \info REFERENCE-XSD-FILE: any XSD file in $INPUT-DIRECTORY
#
#           \warning It has to be only the file name, without any path:
#                    name.xsd   # ok
#                    $INPUT_DIR/name.xsd   # error
#
#           where "name.xsd"  could be found either at $INPUT_DIR/name.xsd,
#           or at $INPUT_DIR/dir-1/dir-2/.../dir-n/name.xsd
#
# \info TARGET-NAMESPACE possible values
#
# tsms: FourSight files
# fb:   fixm/base
# ff:   fixm/foundation
# fx:   fixm/flight 


[ Example .- fixm/foundation (namespace FF)

# from: /home/swim/development/SWIS_root/tools/xsd_parser/preprocess

# 1) preprocessing

>> bash order_sources.sh /home/swim/development/SWIS_root/common/translators/FlightPlanTranslator/schemas/fp_correlation/fixm/core/foundation/
 
>> bash preprocess_swis_xsd_sources.sh   /home/swim/development/SWIS_root/common/translators/FlightPlanTranslator/schemas/fp_correlation/fixm/core/foundation/   FF   Address.xsd

end-example ]

#===============================================================================
